(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{125:function(e,n,t){e.exports=t(232)},231:function(e,n,t){},232:function(e,n,t){"use strict";t.r(n);var a,r,c=t(0),l=t.n(c),i=t(111),o=t.n(i),u=t(22),m=t(10),s=t(67),d=t(5),b=t(14),f=Object(b.c)(a||(a=Object(m.a)(["\n    0% {opacity: 0}\n    50% {opacity: 1}\n    100% {opacity: 0}\n"]))),E=b.b.div(r||(r=Object(m.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    div {\n        border-radius: 100%;\n        margin: 2rem;\n        width: 30px;\n        height: 30px;\n        background-color: ",";\n        animation: "," 1s linear -.9s infinite;\n        &:nth-child(2) {animation-delay: -.6s;}\n        &:nth-child(3) {animation-delay: -.3s;}\n    }\n"])),(function(e){return e.theme.colors.paleGreen}),f);function p(){return l.a.createElement(E,null,l.a.createElement("div",{className:"loading-dot"}),l.a.createElement("div",{className:"loading-dot"}),l.a.createElement("div",{className:"loading-dot"}))}var g=t(237),v={errorPolicy:"all"};function j(e){var n=e.query,t=e.Component,a=Object(g.a)(n,v),r=Object(d.a)(a,2),c=r[0],i=r[1],o=i.data,u=i.loading,m=i.error;return l.a.createElement("div",null,l.a.createElement(t,{callMutation:function(e){return c({variables:e})},data:o}),u&&l.a.createElement(p,null),m&&l.a.createElement("p",null,m.message))}var h,O,k,y,w,S,C,N,$=t(244),_=Object($.a)(h||(h=Object(m.a)(["\n  mutation UserLogin($username: String!, $password: String!) {\n    login(username: $username, password: $password)\n  }\n"]))),x=Object($.a)(O||(O=Object(m.a)(["\n  mutation Signup($username: String!, $password: String!, $email: String!) {\n    addUser(username: $username, password: $password, email: $email)\n  }\n"]))),F=Object($.a)(k||(k=Object(m.a)(["\n  mutation MakeNickname($nickname: String!) {\n    addNickname(nickname: $nickname) {\n      user {\n        username\n      }\n    }\n  }\n"]))),I=Object($.a)(y||(y=Object(m.a)(["\n  mutation Like($nickname_id: ID!) {\n    likeNickname(nickname_id: $nickname_id)\n  }\n"]))),D=Object($.a)(w||(w=Object(m.a)(["\n  mutation RemoveNickname($nickname_id: ID!) {\n    deleteNickname(nickname_id: $nickname_id){\n      nickname_id\n    }\n  }\n"]))),q=b.b.label(S||(S=Object(m.a)(["\n  display: flex;\n  ","\n  font-weight: 600;\n  justify-content: space-between;\n"])),(function(e){return e.theme.setFont(2)})),B=b.b.input(C||(C=Object(m.a)(["\n  display: flex;\n  ","\n  font-weight: 600;\n  margin: 1rem;\n  text-align: center;\n  width: min-content;\n"])),(function(e){return e.theme.setFont(2)}));function M(e){var n=e.name,t=e.value,a=e.handleChange,r=n.toUpperCase().replace("_"," "),c=["password","date","time","number","color","email"].reduce((function(e,t){return n.includes(t)?t:e}),"text");return l.a.createElement(l.a.Fragment,null,l.a.createElement(q,{htmlFor:n},r,":"),l.a.createElement(B,{id:n,name:n,placeholder:n.replace("_"," "),value:t,type:c,onChange:a}))}function U(e){var n=e.error,t=e.errorType;return 0===n.length?null:l.a.createElement("div",null,t,": ",n)}var A,L=b.b.button(N||(N=Object(m.a)(["\n    font-weight: 400;\n    padding: 1rem;\n    ","\n    color: ",";\n    border: none;\n    text-decoration: none;\n    background-color: inherit;\n    cursor: pointer;\n    &:hover {\n        text-decoration: underline;\n    }\n    \n"])),(function(e){return e.theme.setFont(2)}),(function(e){return e.theme.colors.slime})),G=t(46),P=t(16),R=t(35),T=function(e,n){var t=Object(c.useState)(e),a=Object(d.a)(t,2),r=a[0],l=a[1],i=Object(c.useState)(e),o=Object(d.a)(i,2),u=o[0],m=o[1],s=Object(c.useState)(!0),b=Object(d.a)(s,2),f=b[0],E=b[1];return Object(c.useEffect)((function(){n&&n.isValid(r).then((function(e){return E(!e)}))}),[r]),[r,function(e){var t=e.target,a=t.type,c=t.name,i=t.checked,o=t.value,s="checkbox"===a?i:o;l(Object(P.a)(Object(P.a)({},r),{},Object(G.a)({},c,s))),n&&function(e,t){R.b(n,e).validate(t).then((function(){return m(Object(P.a)(Object(P.a)({},u),{},Object(G.a)({},e,"")))})).catch((function(n){return m(Object(P.a)(Object(P.a)({},u),{},Object(G.a)({},e,n.errors[0])))}))}(c,s)},function(){return l(e)},u,f]},z=b.b.form(A||(A=Object(m.a)(["\n  width: 100%;\n  fieldset {\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-radius: 10px;\n    width: 80%;\n    border: solid ",";\n  }\n  legend {\n    ","\n    margin-left: 5rem;\n  }\n"])),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.setFont(3)}));function H(e){var n=e.title,t=e.initialState,a=e.schema,r=e.submit,c=T(t,a),i=Object(d.a)(c,5),o=i[0],u=i[1],m=i[2],s=i[3],b=i[4];return l.a.createElement(z,{onSubmit:function(e){e.preventDefault(),r(o)}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,n),Object.keys(o).map((function(e){return l.a.createElement(M,{key:"".concat(e,"input"),name:e,value:o[e],handleChange:u})})),Object.keys(s).map((function(e){return l.a.createElement(U,{key:"".concat(e,"error"),errorType:e,error:s[e]})})),l.a.createElement(L,{type:"reset",onClick:m},"Reset"),l.a.createElement(L,{type:"submit",disabled:b},"Submit")))}var J={username:R.c().required().trim().min(6),password:R.c().required().trim().min(6)},K=R.a().shape(Object(P.a)({},J)),V=R.a().shape(Object(P.a)(Object(P.a)({},J),{},{email:R.c().email().trim()})),Q=t(3),W={username:"",password:""};var X=function(e){var n=e.data,t=e.callMutation,a=Object(Q.f)();return Object(c.useEffect)((function(){(null===n||void 0===n?void 0:n.login)&&(localStorage.setItem("token",n.login),a("/"),window.location.reload())}),[n]),l.a.createElement(H,{title:"Login: ",initialState:W,schema:K,submit:t})};function Y(){return l.a.createElement(j,{query:_,Component:X})}var Z=["component"];function ee(e){var n=e.component,t=Object(s.a)(e,Z);return localStorage.getItem("token")?l.a.createElement(n,t):l.a.createElement(Y,null)}var ne={email:"",username:"",password:""};var te,ae,re=function(e){var n=e.data,t=e.callMutation,a=Object(Q.f)();return Object(c.useEffect)((function(){(null===n||void 0===n?void 0:n.addUser)&&(localStorage.setItem("token",n.addUser),a("/"),window.location.reload())}),[n]),l.a.createElement(H,{title:"Sign Up:",initialState:ne,schema:V,submit:t})};function ce(){return l.a.createElement(j,{query:x,Component:re})}var le="\n    nickname_id\n    likes\n    liked\n    createdBy\n    nickname\n    user {\n    username\n    }\n",ie=Object($.a)(te||(te=Object(m.a)(["\n  query getNicknames($page: Int!){\n    nicknames(page: $page) {\n      ","\n    }\n  }\n"])),le),oe=Object($.a)(ae||(ae=Object(m.a)(["\n  query Get_User_Nicknames($username: String!) {\n    user(username: $username) {\n      nicknames {\n        ","\n      }\n    }\n  }\n"])),le);function ue(e){var n=e.likes,t=e.liked,a=e.nickname_id,r=Object(g.a)(I,v),i=Object(d.a)(r,2),o=i[0],u=i[1],m=u.loading,s=u.error,b=function(e){var n=Object(c.useState)(e),t=Object(d.a)(n,2),a=t[0],r=t[1];return[a,function(e){r((function(n){return"boolean"===typeof e?e:!n}))}]}(t),f=Object(d.a)(b,2),E=f[0],p=f[1],j=Object(c.useMemo)((function(){return n+(t?-1:0)+(E?1:0)}),[E,t,n]);return s?l.a.createElement("p",null,s.message):l.a.createElement("div",null,l.a.createElement(L,{onClick:function(){m||(o({variables:{nickname_id:a}}),p())}},j," Likes"))}var me,se=["user","nickname","nickname_id","createdBy"],de=b.b.li(me||(me=Object(m.a)(['\n  list-style: none;\n  font-family: "Fredoka One", cursive;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  border-radius: 10px;\n  border: solid ',";\n  color: ",";\n"])),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.colors.orange}));function be(e){var n=e.user,t=e.nickname,a=e.nickname_id,r=e.createdBy,i=Object(s.a)(e,se),o=n.username,m=Object(g.a)(D,v),b=Object(d.a)(m,2),f=b[0],E=b[1],p=E.data,j=E.loading,h=E.error;return Object(c.useEffect)((function(){p&&window.location.reload()}),[p]),h?l.a.createElement("p",null,h.message):l.a.createElement(de,null,l.a.createElement("h3",null,t),l.a.createElement(u.b,{to:"/user/".concat(o)},l.a.createElement(L,{className:"creator"},"By ",o)),l.a.createElement(ue,Object.assign({},i,{nickname_id:a})),r&&l.a.createElement(L,{onClick:function(){j||f({variables:{nickname_id:a}})}},"Delete"))}function fe(e){var n,t=e.data,a=t.nicknames,r=t.user;return l.a.createElement("ul",null,null===a||void 0===a?void 0:a.map((function(e){return l.a.createElement(be,Object.assign({},e,{key:e.nickname_id}))})),null===r||void 0===r||null===(n=r.nicknames)||void 0===n?void 0:n.map((function(e){return l.a.createElement(be,Object.assign({},e,{key:e.nickname_id}))})))}function Ee(){var e=Object(Q.g)().page,n=parseInt(e)||0;return l.a.createElement("div",null,n>0&&l.a.createElement(u.b,{to:"/page/".concat(n-1)},l.a.createElement(L,null,"Prev Page")),l.a.createElement(u.b,{to:"/page/".concat(n+1)},l.a.createElement(L,null,"Next Page")))}var pe,ge=t(242);function ve(e){var n=e.query,t=e.Component,a=e.variables,r=void 0===a?{}:a,c=Object(ge.a)(n,Object(P.a)(Object(P.a)({},v),{},{variables:r})),i=c.data,o=c.loading,u=c.error;return o?l.a.createElement(p,null):u?l.a.createElement("p",null,u.message):l.a.createElement(t,{data:i})}function je(){var e=Object(Q.g)().page,n=parseInt(e)||0;return l.a.createElement("div",null,l.a.createElement(ve,{query:ie,Component:fe,variables:{page:n}}),l.a.createElement(Ee,null))}function he(e){return l.a.createElement("div",{className:"button button-6"},l.a.createElement("div",{className:"spin"}),l.a.createElement(u.b,e,e.children))}var Oe=b.b.header(pe||(pe=Object(m.a)(["\n  width: 100%;\n  color: ",";\n  background-color: ",";\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  font-style: italic;\n  h1 {\n    ","\n    font-weight: 600;\n  }\n"])),(function(e){return e.theme.colors.teal}),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.setFont(4)}));var ke=function(){var e=localStorage.getItem("token");return l.a.createElement(Oe,null,l.a.createElement(u.b,{to:"/"},l.a.createElement(L,{id:"TitleHeader"},l.a.createElement("h1",null,"DAN SCHNEIDER NICKNAMES"))),l.a.createElement("nav",null,e?l.a.createElement(l.a.Fragment,null,l.a.createElement(he,{to:"/"},"All Nicknames"),l.a.createElement(he,{to:"/create"},"Add Nickname"),l.a.createElement(he,{to:"",onClick:function(){localStorage.removeItem("token"),window.location.reload()}},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement(he,{to:"/signup"},"Signup"),l.a.createElement(he,{to:"/login"},"Login"))))};function ye(){var e=Object(Q.g)().username;return l.a.createElement("div",null,l.a.createElement("h2",null,e,"'s Nicknames"),l.a.createElement(ve,{Component:fe,query:oe,variables:{username:e}}))}var we,Se=t(243),Ce=(t(231),t(120)),Ne=t(234),$e=t(245),_e=t(119),xe=Object(Ce.a)({uri:"https://schneider-nicknames.herokuapp.com/"}),Fe=Object(_e.a)((function(e,n){var t=n.headers,a=localStorage.getItem("token");return{headers:Object(P.a)(Object(P.a)({},t),{},{authorization:a})}})),Ie=new Ne.a({link:Fe.concat(xe),cache:new $e.a});function De(e){var n=e.callMutation,t=e.data,a=Object(c.useState)(""),r=Object(d.a)(a,2),i=r[0],o=r[1],u=Object(Q.f)();Object(c.useEffect)((function(){if(t){var e=t.addNickname.user.username;u("/user/".concat(e))}}),[t]);var m=Object(c.useMemo)((function(){return!i.includes("Dan")&&!i.includes("Schneider")}),[i]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(z,{onSubmit:function(e){e.preventDefault(),n({nickname:i})}},l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Create a new Nickname"),l.a.createElement(M,{name:"nickname",value:i,handleChange:function(e){o(e.target.value)}}),m&&l.a.createElement("p",null,"Must contain 'Dan' or 'Schneider'"),l.a.createElement(L,{type:"submit",disabled:m},"Submit"))))}function qe(){return l.a.createElement(j,{query:F,Component:De})}var Be=b.b.main(we||(we=Object(m.a)(["\n  padding: 1rem;\n  background-color: ",";\n  color: ",";\n  ",";\n  min-height: 100vh;\n"])),(function(e){return e.theme.colors.black}),(function(e){return e.theme.colors.tan}),(function(e){return e.theme.setFont(2)}));var Me=function(){return l.a.createElement(Se.a,{client:Ie},l.a.createElement(ke,null),l.a.createElement(Be,null,l.a.createElement(Q.c,null,l.a.createElement(Q.a,{path:"/signup",element:l.a.createElement(ce,null)}),l.a.createElement(Q.a,{path:"/login",element:l.a.createElement(Y,null)}),l.a.createElement(Q.a,{path:"/",element:l.a.createElement(ee,{component:je})}),l.a.createElement(Q.a,{path:"/page/:page",element:l.a.createElement(ee,{component:je})}),l.a.createElement(Q.a,{path:"/user/:username",element:l.a.createElement(ee,{component:ye})}),l.a.createElement(Q.a,{path:"/create",element:l.a.createElement(ee,{component:qe})}),l.a.createElement(Q.a,{path:"*",element:l.a.createElement(ee,{component:je})}))))},Ue={colors:{purple:"#AD40B5",teal:"#66CED6",navy:"#001B2E",tan:"#FFC49B",paleGreen:"#C0DA74",orange:"#E17C0B",slime:"#51CB20",blue:"#134D93",black:"#070707",lightGrey:"#CECCCC"},setFont:function(e){return"font-size: ".concat(e*Ae,"rem;")}},Ae=.809,Le=Ue;o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b.a,{theme:Le},l.a.createElement(u.a,null,l.a.createElement(Me,null)))),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.23384a06.chunk.js.map